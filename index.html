<!DOCTYPE html>
<html lang="ca">
<head>
ย ย <meta charset="UTF-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย ย <meta name="theme-color" content="#1E88E5">
ย ย <meta name="mobile-web-app-capable" content="yes">
ย ย <meta name="apple-mobile-web-app-capable" content="yes">
ย ย <meta name="apple-mobile-web-app-status-bar-style" content="default">
ย ย <meta name="apple-mobile-web-app-title" content="Cultura General">
ย ยย
ย ย <title>Temari Oposicions - Cultura General</title>
ย ยย
ย ย <link rel="icon" type="image/png" sizes="192x192" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiBmaWxsPSIjMUU4OEU1IiByeD0iMjQiLz4KPHN2ZyB4PSI0OCIgeT0iNDgiIHdpZHRoPSI5NiIgaGVpZ2h0PSI5NiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDE4Yy00LjQxIDAtOC0zLjU5LTgtOHMzLjU5LTggOC04IDggMy41OSA4IDgtMy41OSA4LTggOHptLjUtMTNIOXYyaDJ2Nmgtdi0yaDJ2Mmg0di0yaDJ2LTJoLTJ2LTZoMnYtMmgtNHYyeiIvPgo8L3N2Zz4KPC9zdmc+">
ย ยย
ย ย <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiVGVtYXJpIE9wb3NpY2lvbnMgLSBDdWx0dXJhIEdlbmVyYWwiLCJzaG9ydF9uYW1lIjoiVGVtYXJpIiwic3RhcnRfdXJsIjoiLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiNGQUZBRkEiLCJ0aGVtZV9jb2xvciI6IiMxRTg4RTUiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCIsInNpemVzIjoiMTkyeDE5MiIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn1dfQ==">

ย ย <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600&family=Montserrat:wght@400;600&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
ย ยย
ย ย ย ย <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
ย ย <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

ย ย <style>
ย ย ย ย * {
ย ย ย ย ย ย margin: 0;
ย ย ย ย ย ย padding: 0;
ย ย ย ย ย ย box-sizing: border-box;
ย ย ย ย }

ย ย ย ย :root {
ย ย ย ย ย ย --text-color: #333333;
ย ย ย ย ย ย --background-color: #FAFAFA;
ย ย ย ย ย ย --card-background: #ffffff;
ย ย ย ย ย ย --primary-color: #1E88E5;
ย ย ย ย ย ย --secondary-color: #FF7043;
ย ย ย ย ย ย --positive-color: #81C784;
ย ย ย ย ย ย --progress-color: #2c974b;
ย ย ย ย ย ย --button-bg: #1E88E5;
ย ย ย ย ย ย --button-hover: #1976D2;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .dark-mode {
ย ย ย ย ย ย --text-color: #e0e0e0;
ย ย ย ย ย ย --background-color: #121212;
ย ย ย ย ย ย --card-background: #1f1f1f;
ย ย ย ย ย ย --primary-color: #64B5F6;
ย ย ย ย ย ย --secondary-color: #FFB74D;
ย ย ย ย ย ย --positive-color: #AED581;
ย ย ย ย ย ย --progress-color: #4CAF50;
ย ย ย ย ย ย --button-bg: #616161;
ย ย ย ย ย ย --button-hover: #424242;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย body {
ย ย ย ย ย ย font-family: 'Open Sans', sans-serif;
ย ย ย ย ย ย background-color: var(--background-color);
ย ย ย ย ย ย color: var(--text-color);
ย ย ย ย ย ย line-height: 1.6;
ย ย ย ย ย ย overflow-x: hidden;
ย ย ย ย ย ย transition: background-color 0.4s ease, color 0.4s ease;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* PWA Install Banner */
ย ย ย ย .install-banner {
ย ย ย ย ย ย background: linear-gradient(135deg, var(--primary-color) 0%, #1976D2 50%, #0D47A1 100%);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย padding: 16px 20px;
ย ย ย ย ย ย display: none;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย justify-content: space-between;
ย ย ย ย ย ย position: sticky;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย z-index: 200;
ย ย ย ย ย ย animation: slideDown 0.6s ease;
ย ย ย ย ย ย box-shadow: 0 4px 12px rgba(30, 136, 229, 0.3);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .install-banner.show {
ย ย ย ย ย ย display: flex;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .install-text {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย gap: 12px;
ย ย ย ย ย ย font-size: 15px;
ย ย ย ย ย ย font-weight: 500;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .install-btn {
ย ย ย ย ย ย background: white;
ย ย ย ย ย ย color: var(--primary-color);
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย padding: 10px 20px;
ย ย ย ย ย ย border-radius: 25px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย font-size: 14px;
ย ย ย ย ย ย transition: all 0.3s ease;
ย ย ย ย ย ย box-shadow: 0 2px 8px rgba(255,255,255,0.3);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .install-btn:hover {
ย ย ย ย ย ย transform: translateY(-2px);
ย ย ย ย ย ย box-shadow: 0 4px 12px rgba(255,255,255,0.4);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .close-banner {
ย ย ย ย ย ย background: rgba(255,255,255,0.2);
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย font-size: 20px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย padding: 8px;
ย ย ย ย ย ย border-radius: 50%;
ย ย ย ย ย ย width: 36px;
ย ย ย ย ย ย height: 36px;
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย justify-content: center;
ย ย ย ย ย ย transition: all 0.3s ease;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .close-banner:hover {
ย ย ย ย ย ย background: rgba(255,255,255,0.3);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Header principal con tu estilo */
ย ย ย ย .main-header {
ย ย ย ย ย ย background: linear-gradient(135deg, var(--background-color) 0%, var(--background-color) 100%);
ย ย ย ย ย ย padding: 30px 20px;
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย border-bottom: 3px solid var(--primary-color);
ย ย ย ย ย ย position: sticky;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย z-index: 100;
ย ย ย ย ย ย backdrop-filter: blur(10px);
ย ย ย ย ย ย display: none; /* Inicialmente oculto */
ย ย ย ย }
ย ย ย ย .main-header.show {
ย ย ย ย ย ย display: block;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .main-title {
ย ย ย ย ย ย font-family: 'Lora', serif;
ย ย ย ย ย ย font-size: 28px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย color: var(--primary-color);
ย ย ย ย ย ย margin-bottom: 8px;
ย ย ย ย ย ย text-shadow: 0 2px 4px rgba(30, 136, 229, 0.1);
ย ย ย ย }

ย ย ย ย .main-subtitle {
ย ย ย ย ย ย font-family: 'Open Sans', sans-serif;
ย ย ย ย ย ย font-size: 16px;
ย ย ย ย ย ย color: var(--primary-color);
ย ย ย ย ย ย margin-bottom: 16px;
ย ย ย ย ย ย opacity: 0.9;
ย ย ย ย }
ย ย ย ย .page-info {
ย ย ย ย ย ย font-size: 14px;
ย ย ย ย ย ย color: var(--text-color);
ย ย ย ย ย ย margin-bottom: 8px;
ย ย ย ย }
ย ย ย ย .page-number-header {
ย ย ย ย ย ย font-size: 18px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย color: var(--secondary-color);
ย ย ย ย ย ย text-shadow: 0 1px 3px rgba(255, 112, 67, 0.2);
ย ย ย ย }

ย ย ย ย /* Contenedor principal del quiz */
ย ย ย ย .quiz-container {
ย ย ย ย ย ย background: var(--background-color);
ย ย ย ย ย ย max-width: 900px;
ย ย ย ย ย ย margin: 0 auto;
ย ย ย ย ย ย padding: 20px;
ย ย ย ย ย ย min-height: 100vh;
ย ย ย ย ย ย display: none; /* Inicialmente oculto */
ย ย ย ย }
ย ย ย ย .quiz-container.show {
ย ย ย ย ย ย display: block;
ย ย ย ย }

ย ย ย ย /* Nuevo: Contenedor de autenticaciรณn */
ย ย ย ย .auth-container {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย justify-content: center;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย height: 100vh;
ย ย ย ย ย ย background-color: var(--background-color);
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย padding: 20px;
ย ย ย ย }

ย ย ย ย .auth-box {
ย ย ย ย ย ย background: var(--card-background);
ย ย ย ย ย ย padding: 40px;
ย ย ย ย ย ย border-radius: 12px;
ย ย ย ย ย ย box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
ย ย ย ย ย ย max-width: 400px;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย border: 1px solid rgba(30, 136, 229, 0.1);
ย ย ย ย }

ย ย ย ย .auth-box h2 {
ย ย ย ย ย ย font-family: 'Montserrat', sans-serif;
ย ย ย ย ย ย font-size: 24px;
ย ย ย ย ย ย color: var(--primary-color);
ย ย ย ย ย ย margin-bottom: 25px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย }

ย ย ย ย .auth-box input {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย padding: 12px 15px;
ย ย ย ย ย ย margin-bottom: 15px;
ย ย ย ย ย ย border: 1px solid #ccc;
ย ย ย ย ย ย border-radius: 8px;
ย ย ย ย ย ย font-size: 16px;
ย ย ย ย ย ย transition: all 0.3s ease;
ย ย ย ย ย ย background: var(--background-color);
ย ย ย ย ย ย color: var(--text-color);
ย ย ย ย }

ย ย ย ย .auth-box input:focus {
ย ย ย ย ย ย outline: none;
ย ย ย ย ย ย border-color: var(--primary-color);
ย ย ย ย ย ย box-shadow: 0 0 8px rgba(30, 136, 229, 0.2);
ย ย ย ย }

ย ย ย ย .auth-box button {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย padding: 15px;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย border-radius: 8px;
ย ย ย ย ย ย background-color: var(--primary-color);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย font-size: 18px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย transition: background-color 0.3s ease, transform 0.3s ease;
ย ย ย ย }

ย ย ย ย .auth-box button:hover {
ย ย ย ย ย ย background-color: var(--button-hover);
ย ย ย ย ย ย transform: translateY(-2px);
ย ย ย ย }

ย ย ย ย .auth-toggle {
ย ย ย ย ย ย margin-top: 20px;
ย ย ย ย ย ย font-size: 14px;
ย ย ย ย }

ย ย ย ย .auth-toggle a {
ย ย ย ย ย ย color: var(--primary-color);
ย ย ย ย ย ย text-decoration: none;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย transition: color 0.3s ease;
ย ย ย ย }

ย ย ย ย .auth-toggle a:hover {
ย ย ย ย ย ย color: var(--button-hover);
ย ย ย ย }

ย ย ย ย .logout-btn {
ย ย ย ย ย ย background: none;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย font-size: 14px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย padding: 10px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย margin-top: 10px;
ย ย ย ย ย ย transition: color 0.3s;
ย ย ย ย ย ย display: none; /* Inicialmente oculto */
ย ย ย ย }
ย ย ย ย .logout-btn.show {
ย ย ย ย ย ย display: block;
ย ย ย ย }
ย ย ย ย .logout-btn:hover {
ย ย ย ย ย ย color: #ff0000;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Lista de preguntas con tu estilo mejorado */
ย ย ย ย .question-list {
ย ย ย ย ย ย background: var(--card-background);
ย ย ย ย ย ย border-radius: 12px;
ย ย ย ย ย ย padding: 30px;
ย ย ย ย ย ย box-shadow: 0 4px 20px rgba(0,0,0,0.08);
ย ย ย ย ย ย border: 1px solid rgba(30, 136, 229, 0.1);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .question-item {
ย ย ย ย ย ย margin-bottom: 32px;
ย ย ย ย ย ย padding: 20px;
ย ย ย ย ย ย border-radius: 12px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย transition: all 0.4s ease;
ย ย ย ย ย ย border: 2px solid transparent;
ย ย ย ย ย ย position: relative;
ย ย ย ย ย ย overflow: hidden;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .question-item::before {
ย ย ย ย ย ย content: '';
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย left: 0;
ย ย ย ย ย ย right: 0;
ย ย ย ย ย ย bottom: 0;
ย ย ย ย ย ย background: linear-gradient(135deg, rgba(30, 136, 229, 0.03) 0%, rgba(129, 199, 132, 0.02) 100%);
ย ย ย ย ย ย opacity: 0;
ย ย ย ย ย ย transition: all 0.4s ease;
ย ย ย ย ย ย z-index: 1;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .question-item:hover::before {
ย ย ย ย ย ย opacity: 1;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .question-item:hover {
ย ย ย ย ย ย border-color: rgba(30, 136, 229, 0.3);
ย ย ย ย ย ย transform: translateY(-4px);
ย ย ย ย ย ย box-shadow: 0 8px 25px rgba(30, 136, 229, 0.15);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .question-content {
ย ย ย ย ย ย position: relative;
ย ย ย ย ย ย z-index: 2;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .question-number {
ย ย ย ย ย ย color: var(--primary-color);
ย ย ย ย ย ย font-family: 'Montserrat', sans-serif;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย font-size: 16px;
ย ย ย ย ย ย margin-bottom: 12px;
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย gap: 8px;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .question-number::before {
ย ย ย ย ย ย content: '๐ก';
ย ย ย ย ย ย font-size: 18px;
ย ย ย ย ย ย animation: pulse 2s infinite;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .question-text {
ย ย ย ย ย ย color: var(--text-color);
ย ย ย ย ย ย font-size: 16px;
ย ย ย ย ย ย line-height: 1.6;
ย ย ย ย ย ย margin-bottom: 16px;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .answer {
ย ย ย ย ย ย color: #8E8E93;
ย ย ย ย ย ย opacity: 0;
ย ย ย ย ย ย max-height: 0;
ย ย ย ย ย ย overflow: hidden;
ย ย ย ย ย ย transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
ย ย ย ย ย ย margin-top: 0;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .answer.show {
ย ย ย ย ย ย opacity: 1;
ย ย ย ย ย ย max-height: 120px;
ย ย ย ย ย ย margin-top: 16px;
ย ย ย ย ย ย color: var(--secondary-color);
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย background: linear-gradient(135deg, rgba(255, 112, 67, 0.1) 0%, rgba(255, 112, 67, 0.05) 100%);
ย ย ย ย ย ย padding: 16px 20px;
ย ย ย ย ย ย border-radius: 10px;
ย ย ย ย ย ย border-left: 4px solid var(--secondary-color);
ย ย ย ย ย ย box-shadow: 0 3px 12px rgba(255, 112, 67, 0.2);
ย ย ย ย ย ย position: relative;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .answer.show::before {
ย ย ย ย ย ย content: 'โ';
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย right: 16px;
ย ย ย ย ย ย top: 16px;
ย ย ย ย ย ย color: var(--secondary-color);
ย ย ย ย ย ย font-weight: bold;
ย ย ย ย ย ย font-size: 18px;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Botones de acciรณn mejorados */
ย ย ย ย .action-buttons {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย gap: 12px;
ย ย ย ย ย ย margin-top: 16px;
ย ย ย ย ย ย opacity: 0;
ย ย ย ย ย ย transition: all 0.4s ease;
ย ย ย ย ย ย position: relative;
ย ย ย ย ย ย z-index: 3;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .question-item:hover .action-buttons {
ย ย ย ย ย ย opacity: 1;
ย ย ย ย ย ย transform: translateY(0);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .reveal-btn {
ย ย ย ย ย ย background: linear-gradient(135deg, var(--primary-color) 0%, #1976D2 100%);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย padding: 10px 20px;
ย ย ย ย ย ย border-radius: 25px;
ย ย ย ย ย ย font-size: 14px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย transition: all 0.4s ease;
ย ย ย ย ย ย box-shadow: 0 4px 12px rgba(30, 136, 229, 0.3);
ย ย ย ย ย ย position: relative;
ย ย ย ย ย ย overflow: hidden;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .reveal-btn::before {
ย ย ย ย ย ย content: '';
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย left: -100%;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
ย ย ย ย ย ย transition: all 0.6s ease;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .reveal-btn:hover::before {
ย ย ย ย ย ย left: 100%;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .reveal-btn:hover {
ย ย ย ย ย ย background: linear-gradient(135deg, #1976D2 0%, #0D47A1 100%);
ย ย ย ย ย ย transform: translateY(-2px);
ย ย ย ย ย ย box-shadow: 0 6px 16px rgba(30, 136, 229, 0.4);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .reveal-btn.hide {
ย ย ย ย ย ย background: linear-gradient(135deg, var(--secondary-color) 0%, #F4511E 100%);
ย ย ย ย ย ย box-shadow: 0 4px 12px rgba(255, 112, 67, 0.3);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .reveal-btn.hide:hover {
ย ย ย ย ย ย background: linear-gradient(135deg, #F4511E 0%, #D84315 100%);
ย ย ย ย ย ย box-shadow: 0 6px 16px rgba(255, 112, 67, 0.4);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Separador mejorado */
ย ย ย ย .separator {
ย ย ย ย ย ย margin: 40px 0;
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย position: relative;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .separator-line {
ย ย ย ย ย ย height: 2px;
ย ย ย ย ย ย background: linear-gradient(90deg, transparent, var(--positive-color), transparent);
ย ย ย ย ย ย margin: 15px 0;
ย ย ย ย ย ย position: relative;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .separator-line::before {
ย ย ย ย ย ย content: '';
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย top: 50%;
ย ย ย ย ย ย left: 50%;
ย ย ย ย ย ย transform: translate(-50%, -50%);
ย ย ย ย ย ย width: 40px;
ย ย ย ย ย ย height: 40px;
ย ย ย ย ย ย background: linear-gradient(135deg, var(--positive-color), #66BB6A);
ย ย ย ย ย ย border-radius: 50%;
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย justify-content: center;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .separator-text {
ย ย ย ย ย ย color: var(--positive-color);
ย ย ย ย ย ย font-size: 12px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย text-transform: uppercase;
ย ย ย ย ย ย letter-spacing: 1px;
ย ย ย ย ย ย background: var(--background-color);
ย ย ย ย ย ย padding: 8px 16px;
ย ย ย ย ย ย border-radius: 20px;
ย ย ย ย ย ย box-shadow: 0 2px 8px rgba(129, 199, 132, 0.2);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Navegaciรณn flotante mejorada */
ย ย ย ย .navigation {
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย bottom: 30px;
ย ย ย ย ย ย left: 50%;
ย ย ย ย ย ย transform: translateX(-50%);
ย ย ย ย ย ย display: none; /* Inicialmente oculto */
ย ย ย ย ย ย gap: 12px;
ย ย ย ย ย ย background: rgba(255,255,255,0.95);
ย ย ย ย ย ย backdrop-filter: blur(20px);
ย ย ย ย ย ย padding: 12px;
ย ย ย ย ย ย border-radius: 30px;
ย ย ย ย ย ย box-shadow: 0 8px 32px rgba(0,0,0,0.12);
ย ย ย ย ย ย border: 1px solid rgba(255,255,255,0.3);
ย ย ย ย ย ย transition: background 0.4s ease;
ย ย ย ย }
ย ย ย ย .navigation.show {
ย ย ย ย ย ย display: flex;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .nav-btn {
ย ย ย ย ย ย background: linear-gradient(135deg, var(--button-bg) 0%, var(--button-hover) 100%);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย padding: 12px 24px;
ย ย ย ย ย ย border-radius: 25px;
ย ย ย ย ย ย font-size: 14px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย transition: all 0.4s ease;
ย ย ย ย ย ย box-shadow: 0 4px 12px rgba(30, 136, 229, 0.3);
ย ย ย ย }

ย ย ย ย .nav-btn.reset-btn {
ย ย ย ย ย ย background: linear-gradient(135deg, #FF3B30 0%, #D70015 100%);
ย ย ย ย ย ย box-shadow: 0 4px 12px rgba(255, 59, 48, 0.3);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .nav-btn:hover {
ย ย ย ย ย ย background: linear-gradient(135deg, #1976D2 0%, #0D47A1 100%);
ย ย ย ย ย ย transform: translateY(-3px);
ย ย ย ย ย ย box-shadow: 0 6px 20px rgba(30, 136, 229, 0.4);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .nav-btn.reset-btn:hover {
ย ย ย ย ย ย background: linear-gradient(135deg, #D70015 0%, #A2000C 100%);
ย ย ย ย ย ย box-shadow: 0 6px 20px rgba(255, 59, 48, 0.4);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .nav-btn:disabled {
ย ย ย ย ย ย background: linear-gradient(135deg, #ccc 0%, #999 100%);
ย ย ย ย ย ย cursor: not-allowed;
ย ย ย ย ย ย transform: none;
ย ย ย ย ย ย box-shadow: 0 2px 8px rgba(0,0,0,0.1);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Pรกgina flotante mejorada */
ย ย ย ย .page-number {
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย bottom: 120px;
ย ย ย ย ย ย right: 30px;
ย ย ย ย ย ย background: linear-gradient(135deg, var(--secondary-color) 0%, #F4511E 100%);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย width: 60px;
ย ย ย ย ย ย height: 60px;
ย ย ย ย ย ย border-radius: 50%;
ย ย ย ย ย ย display: none; /* Inicialmente oculto */
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย justify-content: center;
ย ย ย ย ย ย font-weight: 700;
ย ย ย ย ย ย font-size: 18px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย transition: all 0.4s ease;
ย ย ย ย ย ย box-shadow: 0 6px 20px rgba(255, 112, 67, 0.4);
ย ย ย ย ย ย border: 3px solid rgba(255,255,255,0.3);
ย ย ย ย }
ย ย ย ย .page-number.show {
ย ย ย ย ย ย display: flex;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .page-number:hover {
ย ย ย ย ย ย transform: scale(1.15);
ย ย ย ย ย ย box-shadow: 0 8px 25px rgba(255, 112, 67, 0.5);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Animaciones */
ย ย ย ย @keyframes slideDown {ยย
ย ย ย ย ย ย from {ยย
ย ย ย ย ย ย ย ย transform: translateY(-100%);ยย
ย ย ย ย ย ย ย ย opacity: 0;
ย ย ย ย ย ย }
ย ย ย ย ย ย to {ยย
ย ย ย ย ย ย ย ย transform: translateY(0);ยย
ย ย ย ย ย ย ย ย opacity: 1;
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ยย
ย ย ย ย @keyframes pulse {ยย
ย ย ย ย ย ย 0%, 100% {ยย
ย ย ย ย ย ย ย ย transform: scale(1);ยย
ย ย ย ย ย ย ย ย opacity: 1;
ย ย ย ย ย ย }
ย ย ย ย ย ย 50% {ยย
ย ย ย ย ย ย ย ย transform: scale(1.1);ยย
ย ย ย ย ย ย ย ย opacity: 0.8;
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ยย
ย ย ย ย @keyframes fadeInUp {
ย ย ย ย ย ย from {
ย ย ย ย ย ย ย ย opacity: 0;
ย ย ย ย ย ย ย ย transform: translateY(30px);
ย ย ย ย ย ย }
ย ย ย ย ย ย to {
ย ย ย ย ย ย ย ย opacity: 1;
ย ย ย ย ย ย ย ย transform: translateY(0);
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Responsive */
ย ย ย ย @media (min-width: 768px) {
ย ย ย ย ย ย .main-title {
ย ย ย ย ย ย ย ย font-size: 36px;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย .main-subtitle {
ย ย ย ย ย ย ย ย font-size: 18px;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย .question-item {
ย ย ย ย ย ย ย ย padding: 24px;
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ยย
ย ย ย ย @media (max-width: 480px) {
ย ย ย ย ย ย .quiz-container {
ย ย ย ย ย ย ย ย padding: 10px;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย .question-list {
ย ย ย ย ย ย ย ย padding: 20px;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย .navigation {
ย ย ย ย ย ย ย ย bottom: 20px;
ย ย ย ย ย ย ย ย padding: 8px;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย .nav-btn {
ย ย ย ย ย ย ย ย padding: 10px 16px;
ย ย ย ย ย ย ย ย font-size: 13px;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย .page-number {
ย ย ย ย ย ย ย ย width: 50px;
ย ย ย ย ย ย ย ย height: 50px;
ย ย ย ย ย ย ย ย bottom: 100px;
ย ย ย ย ย ย ย ย right: 20px;
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Offline indicator mejorado */
ย ย ย ย .offline-indicator {
ย ย ย ย ย ย background: linear-gradient(135deg, #FF3B30 0%, #D70015 100%);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย padding: 12px;
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย font-size: 14px;
ย ย ย ย ย ย font-weight: 600;
ย ย ย ย ย ย display: none;
ย ย ย ย ย ย box-shadow: 0 4px 12px rgba(255, 59, 48, 0.3);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .offline-indicator.show {
ย ย ย ย ย ย display: block;
ย ย ย ย ย ย animation: slideDown 0.5s ease;
ย ย ย ย }

ย ย ย ย /* Nuevo: Barra de progreso */
ย ย ย ย .progress-info {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย justify-content: center;
ย ย ย ย ย ย flex-direction: column;
ย ย ย ย ย ย gap: 8px;
ย ย ย ย ย ย margin-top: 15px;
ย ย ย ย }

ย ย ย ย .progress-percentage {
ย ย ย ย ย ย font-family: 'Montserrat', sans-serif;
ย ย ย ย ย ย font-size: 16px;
ย ย ย ย ย ย font-weight: 700;
ย ย ย ย ย ย color: var(--progress-color);
ย ย ย ย ย ย text-shadow: 0 1px 3px rgba(44, 151, 75, 0.2);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .progress-bar-container {
ย ย ย ย ย ย width: 80%;
ย ย ย ย ย ย max-width: 400px;
ย ย ย ย ย ย height: 8px;
ย ย ย ย ย ย background-color: var(--card-background);
ย ย ย ย ย ย border-radius: 4px;
ย ย ย ย ย ย box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
ย ย ย ย ย ย overflow: hidden;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .progress-bar-fill {
ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย width: 0%;
ย ย ย ย ย ย background-color: var(--progress-color);
ย ย ย ย ย ย transition: width 0.3s ease-in-out;
ย ย ย ย ย ย border-radius: 4px;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .dark-mode-toggle {
ย ย ย ย ย ย background: none;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย font-size: 20px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย padding: 10px;
ย ย ย ย ย ย border-radius: 50%;
ย ย ย ย ย ย transition: all 0.3s ease;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .dark-mode-toggle:hover {
ย ย ย ย ย ย background-color: var(--button-hover);
ย ย ย ย }
ย ย </style>
</head>
<body>
ย ย <div class="install-banner" id="installBanner">
ย ย ย ย <div class="install-text">
ย ย ย ย ย ย <span>๐ฑ</span>
ย ย ย ย ย ย <span>Instala l'app per estudiar offline</span>
ย ย ย ย </div>
ย ย ย ย <div>
ย ย ย ย ย ย <button class="install-btn" id="installBtn">Instalยทlar App</button>
ย ย ย ย ย ย <button class="close-banner" id="closeBanner">ร</button>
ย ย ย ย </div>
ย ย </div>
ย ยย
ย ย <div class="offline-indicator" id="offlineIndicator">
ย ย ย ย ๐ก Mode offline - Contingut guardat localment
ย ย </div>
ย ยย
ย ย ย ย <div id="authContainer" class="auth-container">
ย ย ย ย <div class="auth-box">
ย ย ย ย ย ย <h2 id="authTitle">Iniciar Sesiรณn</h2>
ย ย ย ย ย ย <input type="email" id="email" placeholder="Correo electrรณnico" required>
ย ย ย ย ย ย <input type="password" id="password" placeholder="Contraseรฑa" required>
ย ย ย ย ย ย <button id="authButton">Iniciar Sesiรณn</button>
ย ย ย ย ย ย <p class="auth-toggle">
ย ย ย ย ย ย ย ย ยฟNo tienes cuenta? <a href="#" id="toggleLink">Regรญstrate</a>
ย ย ย ย ย ย </p>
ย ย ย ย </div>
ย ย </div>

ย ย ย ย <div class="main-header">
ย ย ย ย <h1 class="main-title">Temari Oposicions</h1>
ย ย ย ย <div class="main-subtitle">Cultura General</div>
ย ย ย ย <div class="page-info">Pรgina <span id="pageNumberHeader">4</span> de 101</div>
ย ย ย ยย
ย ย ย ย <div class="progress-info">
ย ย ย ย ย ย <div class="progress-percentage" id="progressPercentage">0%</div>
ย ย ย ย ย ย <div class="progress-bar-container">
ย ย ย ย ย ย ย ย <div class="progress-bar-fill" id="progressBarFill"></div>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย ย ย <button class="logout-btn" id="logoutBtn">Cerrar Sesiรณn</button>
ย ย </div>
ย ยย
ย ย <div class="quiz-container">
ย ย ย ย <div class="question-list" id="questionList">
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="question-item" data-question-id="32">
ย ย ย ย ย ย ย ย <div class="question-content">
ย ย ย ย ย ย ย ย ย ย <div class="question-number">32. Brasรญlia รฉs a Brasil com Albรnia รฉs a...</div>
ย ย ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="reveal-btn" onclick="toggleAnswer('32')">๐ค Pensar respuesta</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="answer" id="answer-32">Tirana</div>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="question-item" data-question-id="33">
ย ย ย ย ย ย ย ย <div class="question-content">
ย ย ย ย ย ย ย ย ย ย <div class="question-number">33. Quin รฉs el nom de la muntanya mรฉs alta d'Espanya?</div>
ย ย ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="reveal-btn" onclick="toggleAnswer('33')">๐ค Pensar respuesta</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="answer" id="answer-33">Teide</div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="question-item" data-question-id="34">
ย ย ย ย ย ย ย ย <div class="question-content">
ย ย ย ย ย ย ย ย ย ย <div class="question-number">34. Quin รฉs el paรญs d'origen del "Programa Apollo"?</div>
ย ย ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="reveal-btn" onclick="toggleAnswer('34')">๐ค Pensar respuesta</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="answer" id="answer-34">Estats Units d'Amรจrica</div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="question-item" data-question-id="35">
ย ย ย ย ย ย ย ย <div class="question-content">
ย ย ย ย ย ย ย ย ย ย <div class="question-number">35. A quin estat pertany la regiรณ insular de Cรฒrsega?</div>
ย ย ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="reveal-btn" onclick="toggleAnswer('35')">๐ค Pensar respuesta</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="answer" id="answer-35">Franรงa</div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="question-item" data-question-id="36">
ย ย ย ย ย ย ย ย <div class="question-content">
ย ย ย ย ย ย ย ย ย ย <div class="question-number">36. Tegucigalpa รฉs la capital de:</div>
ย ย ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="reveal-btn" onclick="toggleAnswer('36')">๐ค Pensar respuesta</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="answer" id="answer-36">Hondures</div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="question-item" data-question-id="37">
ย ย ย ย ย ย ย ย <div class="question-content">
ย ย ย ย ย ย ย ย ย ย <div class="question-number">37. L'autor del llibre "La Colmena" รฉs de:</div>
ย ย ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="reveal-btn" onclick="toggleAnswer('37')">๐ค Pensar respuesta</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="answer" id="answer-37">Camilo Josรฉ Cela</div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="question-item" data-question-id="38">
ย ย ย ย ย ย ย ย <div class="question-content">
ย ย ย ย ย ย ย ย ย ย <div class="question-number">38. La proclamaciรณ de la 2a Repรบblica Espanyola va ser al:</div>
ย ย ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="reveal-btn" onclick="toggleAnswer('38')">๐ค Pensar respuesta</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="answer" id="answer-38">1931</div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="question-item" data-question-id="39">
ย ย ย ย ย ย ย ย <div class="question-content">
ย ย ย ย ย ย ย ย ย ย <div class="question-number">39. Quin Nobel d'escriptura castellana ha finat recentment?</div>
ย ย ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="reveal-btn" onclick="toggleAnswer('39')">๐ค Pensar respuesta</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="answer" id="answer-39">Mario Vargas Llosa</div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="question-item" data-question-id="40">
ย ย ย ย ย ย ย ย <div class="question-content">
ย ย ย ย ย ย ย ย ย ย <div class="question-number">40. Els propers JJOO es celebren a:</div>
ย ย ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="reveal-btn" onclick="toggleAnswer('40')">๐ค Pensar respuesta</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="answer" id="answer-40">Los รngeles</div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย </div>
ย ย </div>
ย ยย
ย ย <div class="navigation">
ย ย ย ย <button class="nav-btn" onclick="previousPage()" id="prevBtn">โ Anterior</button>
ย ย ย ย <button class="nav-btn reset-btn" onclick="resetProgress()">๐ Reiniciar</button>
ย ย ย ย <button class="nav-btn" onclick="nextPage()" id="nextBtn">Segรผent โ</button>
ย ย ย ย <button class="nav-btn dark-mode-toggle" onclick="toggleDarkMode()">๐</button>
ย ย </div>
ย ยย
ย ย <div class="page-number" id="pageNumber">4</div>
ย ยย
ย ย <script>
ย ย ย ย // --- 1. CONFIGURACIรN DE FIREBASE (REEMPLAZA ESTO CON TUS CLAVES) ---
ย ย ย ย const firebaseConfig = {
ย ย ย ย ย ย apiKey: "YOUR_API_KEY",
ย ย ย ย ย ย authDomain: "YOUR_AUTH_DOMAIN",
ย ย ย ย ย ย projectId: "YOUR_PROJECT_ID",
ย ย ย ย ย ย storageBucket: "YOUR_STORAGE_BUCKET",
ย ย ย ย ย ย messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
ย ย ย ย ย ย appId: "YOUR_APP_ID"
ย ย ย ย };
ย ย ย ยย
ย ย ย ย // Inicializar Firebase
ย ย ย ย firebase.initializeApp(firebaseConfig);
ย ย ย ย const auth = firebase.auth();

ย ย ย ย // --- 2. LรGICA DE AUTENTICACIรN ---
ย ย ย ย const authContainer = document.getElementById('authContainer');
ย ย ย ย const authTitle = document.getElementById('authTitle');
ย ย ย ย const emailInput = document.getElementById('email');
ย ย ย ย const passwordInput = document.getElementById('password');
ย ย ย ย const authButton = document.getElementById('authButton');
ย ย ย ย const toggleLink = document.getElementById('toggleLink');
ย ย ย ย const logoutBtn = document.getElementById('logoutBtn');
ย ย ย ยย
ย ย ย ย let isLogin = true;

ย ย ย ย toggleLink.addEventListener('click', (e) => {
ย ย ย ย ย ย e.preventDefault();
ย ย ย ย ย ย isLogin = !isLogin;
ย ย ย ย ย ย if (isLogin) {
ย ย ย ย ย ย ย ย authTitle.innerText = 'Iniciar Sesiรณn';
ย ย ย ย ย ย ย ย authButton.innerText = 'Iniciar Sesiรณn';
ย ย ย ย ย ย ย ย toggleLink.innerText = 'Regรญstrate';
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย authTitle.innerText = 'Registrarse';
ย ย ย ย ย ย ย ย authButton.innerText = 'Registrarse';
ย ย ย ย ย ย ย ย toggleLink.innerText = 'Iniciar Sesiรณn';
ย ย ย ย ย ย }
ย ย ย ย });

ย ย ย ย authButton.addEventListener('click', () => {
ย ย ย ย ย ย const email = emailInput.value;
ย ย ย ย ย ย const password = passwordInput.value;
ย ย ย ย ย ยย
ย ย ย ย ย ย if (isLogin) {
ย ย ย ย ย ย ย ย auth.signInWithEmailAndPassword(email, password)
ย ย ย ย ย ย ย ย ย ย .then((userCredential) => {
ย ย ย ย ย ย ย ย ย ย ย ย console.log('ยกSesiรณn iniciada correctamente!', userCredential.user);
ย ย ย ย ย ย ย ย ย ย })
ย ย ย ย ย ย ย ย ย ย .catch((error) => {
ย ย ย ย ย ย ย ย ย ย ย ย alert('Error al iniciar sesiรณn: ' + error.message);
ย ย ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย auth.createUserWithEmailAndPassword(email, password)
ย ย ย ย ย ย ย ย ย ย .then((userCredential) => {
ย ย ย ย ย ย ย ย ย ย ย ย console.log('ยกRegistro exitoso!', userCredential.user);
ย ย ย ย ย ย ย ย ย ย ย ย alert('ยกRegistro exitoso! Ya puedes iniciar sesiรณn.');
ย ย ย ย ย ย ย ย ย ย })
ย ย ย ย ย ย ย ย ย ย .catch((error) => {
ย ย ย ย ย ย ย ย ย ย ย ย alert('Error al registrar: ' + error.message);
ย ย ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย }
ย ย ย ย });
ย ย ย ยย
ย ย ย ย logoutBtn.addEventListener('click', () => {
ย ย ย ย ย ย auth.signOut().then(() => {
ย ย ย ย ย ย ย ย console.log('Sesiรณn cerrada correctamente');
ย ย ย ย ย ย }).catch((error) => {
ย ย ย ย ย ย ย ย console.error('Error al cerrar sesiรณn:', error);
ย ย ย ย ย ย });
ย ย ย ย });
ย ย ย ยย
ย ย ย ย // --- 3. GESTIรN DE VISIBILIDAD CON onAuthStateChanged ---
ย ย ย ย auth.onAuthStateChanged((user) => {
ย ย ย ย ย ย const quizContent = [
ย ย ย ย ย ย ย ย document.querySelector('.main-header'),
ย ย ย ย ย ย ย ย document.querySelector('.quiz-container'),
ย ย ย ย ย ย ย ย document.querySelector('.navigation'),
ย ย ย ย ย ย ย ย document.querySelector('.page-number'),
ย ย ย ย ย ย ย ย logoutBtn
ย ย ย ย ย ย ];
ย ย ย ย ย ยย
ย ย ย ย ย ย if (user) {
ย ย ย ย ย ย ย ย // Usuario conectado
ย ย ย ย ย ย ย ย authContainer.style.display = 'none';
ย ย ย ย ย ย ย ย quizContent.forEach(el => el.style.display = 'block');
ย ย ย ย ย ย ย ย document.querySelector('.navigation').style.display = 'flex';
ย ย ย ย ย ย ย ย document.querySelector('.page-number').style.display = 'flex';
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย // Usuario desconectado
ย ย ย ย ย ย ย ย authContainer.style.display = 'flex';
ย ย ย ย ย ย ย ย quizContent.forEach(el => el.style.display = 'none');
ย ย ย ย ย ย }
ย ย ย ย });

ย ย ย ย // El resto de tu cรณdigo JavaScript
ย ย ย ย // PWA Installation
ย ย ย ย let deferredPrompt;
ย ย ย ยย
ย ย ย ย window.addEventListener('beforeinstallprompt', (e) => {
ย ย ย ย ย ย e.preventDefault();
ย ย ย ย ย ย deferredPrompt = e;
ย ย ย ย ย ย document.getElementById('installBanner').classList.add('show');
ย ย ย ย });
ย ย ย ยย
ย ย ย ย document.getElementById('installBtn').addEventListener('click', async () => {
ย ย ย ย ย ย if (deferredPrompt) {
ย ย ย ย ย ย ย ย deferredPrompt.prompt();
ย ย ย ย ย ย ย ย const { outcome } = await deferredPrompt.userChoice;
ย ย ย ย ย ย ย ย console.log(`User response to the install prompt: ${outcome}`);
ย ย ย ย ย ย ย ย deferredPrompt = null;
ย ย ย ย ย ย ย ย document.getElementById('installBanner').classList.remove('show');
ย ย ย ย ย ย }
ย ย ย ย });
ย ย ย ยย
ย ย ย ย document.getElementById('closeBanner').addEventListener('click', () => {
ย ย ย ย ย ย document.getElementById('installBanner').classList.remove('show');
ย ย ย ย });
ย ย ย ยย
ย ย ย ย // Service Worker
ย ย ย ย if ('serviceWorker' in navigator) {
ย ย ย ย ย ย window.addEventListener('load', () => {
ย ย ย ย ย ย ย ย navigator.serviceWorker.register('data:application/javascript;base64,c2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZXZlbnQgPT4gewogIGV2ZW50LndhaXRVbnRpbChzZWxmLnNraXBXYWl0aW5nKCkpOwp9KTsKCnNlbGYuYWRkRXZlbnRMaXN0ZW5lci AnZmV0Y2gnLCBldmVudCA9PiB7CiAgZXZlbnQucmVzcG9uZFdpdGgoZmV0Y2goZXZlbnQucmVxdWVzdCkpOwp9KTs=')
ย ย ย ย ย ย ย ย .then((registration) => {
ย ย ย ย ย ย ย ย ย ย console.log('SW registered: ', registration);
ย ย ย ย ย ย ย ย })
ย ย ย ย ย ย ย ย .catch((registrationError) => {
ย ย ย ย ย ย ย ย ย ย console.log('SW registration failed: ', registrationError);
ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย });
ย ย ย ย }
ย ย ย ยย
ย ย ย ย // Detectar offline/online
ย ย ย ย window.addEventListener('offline', () => {
ย ย ย ย ย ย document.getElementById('offlineIndicator').classList.add('show');
ย ย ย ย });
ย ย ย ยย
ย ย ย ย window.addEventListener('online', () => {
ย ย ย ย ย ย document.getElementById('offlineIndicator').classList.remove('show');
ย ย ย ย });

ย ย ย ย // Funciones principales
ย ย ย ย const totalQuestions = 101;ย
ย ย ย ย let currentPage = 1;

ย ย ย ย // Cargar el progreso al iniciar
ย ย ย ย window.addEventListener('load', () => {
ย ย ย ย ย ย const savedPage = localStorage.getItem('currentPage');
ย ย ย ย ย ย if (savedPage) {
ย ย ย ย ย ย ย ย currentPage = parseInt(savedPage);
ย ย ย ย ย ย }
ย ย ย ย ย ย updateUI();
ย ย ย ย ย ย loadRevealedAnswers();
ย ย ย ย ย ย const darkModePreference = localStorage.getItem('darkMode');
ย ย ย ย ย ย if (darkModePreference === 'enabled') {
ย ย ย ย ย ย ย ย document.body.classList.add('dark-mode');
ย ย ย ย ย ย }
ย ย ย ย });

ย ย ย ย // Guardar progreso
ย ย ย ย function saveProgress() {
ย ย ย ย ย ย localStorage.setItem('currentPage', currentPage);
ย ย ย ย ย ย saveRevealedAnswers();
ย ย ย ย }

ย ย ย ย // Reiniciar progreso
ย ย ย ย function resetProgress() {
ย ย ย ย ย ย if (confirm('Estรs segur que vols reiniciar tot el progrรฉs?')) {
ย ย ย ย ย ย ย ย localStorage.clear();
ย ย ย ย ย ย ย ย currentPage = 1;
ย ย ย ย ย ย ย ย updateUI();
ย ย ย ย ย ย ย ย window.location.reload();ย
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ยย
ย ย ย ย // Alternar la visibilidad de la respuesta y guardar el estado
ย ย ย ย function toggleAnswer(questionId) {
ย ย ย ย ย ย const answer = document.getElementById(`answer-${questionId}`);
ย ย ย ย ย ย const btn = answer.parentElement.querySelector('.reveal-btn');
ย ย ย ย ย ยย
ย ย ย ย ย ย if (answer.classList.contains('show')) {
ย ย ย ย ย ย ย ย answer.classList.remove('show');
ย ย ย ย ย ย ย ย btn.innerHTML = '๐ค Pensar respuesta';
ย ย ย ย ย ย ย ย btn.classList.remove('hide');
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย answer.classList.add('show');
ย ย ย ย ย ย ย ย btn.innerHTML = '๐๏ธ Ocultar';
ย ย ย ย ย ย ย ย btn.classList.add('hide');
ย ย ย ย ย ย }
ย ย ย ย ย ย saveRevealedAnswers();
ย ย ย ย }

ย ย ย ย function saveRevealedAnswers() {
ย ย ย ย ย ย const revealed = [];
ย ย ย ย ย ย document.querySelectorAll('.answer.show').forEach(answer => {
ย ย ย ย ย ย ย ย const questionId = answer.id.replace('answer-', '');
ย ย ย ย ย ย ย ย revealed.push(questionId);
ย ย ย ย ย ย });
ย ย ย ย ย ย localStorage.setItem('revealedAnswers', JSON.stringify(revealed));
ย ย ย ย }

ย ย ย ย function loadRevealedAnswers() {
ย ย ย ย ย ย const revealed = JSON.parse(localStorage.getItem('revealedAnswers') || '[]');
ย ย ย ย ย ย revealed.forEach(questionId => {
ย ย ย ย ย ย ย ย const answer = document.getElementById(`answer-${questionId}`);
ย ย ย ย ย ย ย ย if (answer) {
ย ย ย ย ย ย ย ย ย ย answer.classList.add('show');
ย ย ย ย ย ย ย ย ย ย const btn = answer.parentElement.querySelector('.reveal-btn');
ย ย ย ย ย ย ย ย ย ย if (btn) {
ย ย ย ย ย ย ย ย ย ย ย ย btn.innerHTML = '๐๏ธ Ocultar';
ย ย ย ย ย ย ย ย ย ย ย ย btn.classList.add('hide');
ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย });
ย ย ย ย }
ย ย ย ยย
ย ย ย ย // Navegaciรณn de pรกginas
ย ย ย ย function nextPage() {
ย ย ย ย ย ย if (currentPage < totalQuestions) {
ย ย ย ย ย ย ย ย currentPage++;
ย ย ย ย ย ย ย ย updateUI();
ย ย ย ย ย ย ย ย saveProgress();
ย ย ย ย ย ย ย ย window.scrollTo(0, 0);ย
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย function previousPage() {
ย ย ย ย ย ย if (currentPage > 1) {
ย ย ย ย ย ย ย ย currentPage--;
ย ย ย ย ย ย ย ย updateUI();
ย ย ย ย ย ย ย ย saveProgress();
ย ย ย ย ย ย ย ย window.scrollTo(0, 0);ย
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย function updateUI() {
ย ย ย ย ย ย document.getElementById('pageNumber').innerText = currentPage;
ย ย ย ย ย ย document.getElementById('pageNumberHeader').innerText = currentPage;
ย ย ย ย ย ย document.getElementById('prevBtn').disabled = currentPage === 1;
ย ย ย ย ย ย document.getElementById('nextBtn').disabled = currentPage === totalQuestions;
ย ย ย ย ย ย updateProgressBar();
ย ย ย ย }
ย ย ย ยย
ย ย ย ย // Actualizar la barra de progreso y el porcentaje
ย ย ย ย function updateProgressBar() {
ย ย ย ย ย ย const progressBarFill = document.getElementById('progressBarFill');
ย ย ย ย ย ย const progressPercentage = document.getElementById('progressPercentage');
ย ย ย ย ย ย const progress = (currentPage / totalQuestions) * 100;
ย ย ย ย ย ย progressBarFill.style.width = `${progress}%`;
ย ย ย ย ย ย progressPercentage.innerText = `${Math.round(progress)}%`;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย function toggleDarkMode() {
ย ย ย ย ย ย document.body.classList.toggle('dark-mode');
ย ย ย ย ย ย const isDarkMode = document.body.classList.contains('dark-mode');
ย ย ย ย ย ย localStorage.setItem('darkMode', isDarkMode ? 'enabled' : 'disabled');
ย ย ย ย ย ย document.querySelector('.dark-mode-toggle').innerHTML = isDarkMode ? 'โ๏ธ' : '๐';
ย ย ย ย }

ย ย ย ย function showPageMenu() {
ย ย ย ย ย ย alert('๐ Navegaciรณ rรpida: Prรฒximament en la versiรณ completa.')
ย ย ย ย }
ย ย </script>
</body>
</html>
